import{l as F,m as S,n as A,o as H,s as I,p as N,k as R,t as T}from"./element-plus-269c9c95.js";import{_ as $}from"./card-5e9a267c.js";import{_ as z}from"./uploadSingleImage-56a7d3f4.js";import{_ as L}from"./error-c67a23aa.js";import{d as j}from"./vuedraggable-be75e328.js";import{u as G}from"./useLesson-bfa7f628.js";import{u as J}from"./useSystem-924e1e37.js";import{F as K,r as O,bF as Q,X,o as u,c as v,b as e,K as o,Q as m,u as a,B as q,S as D,a8 as M,a as w,J as P}from"./@vue-fc98776d.js";import"./lodash-es-d29772ce.js";import"./async-validator-dee29e8b.js";import"./@vueuse-338b0492.js";import"./@element-plus-828baf85.js";import"./dayjs-2fa04b10.js";import"./@kangc-b0092abd.js";import"./vue-d4d0ec31.js";import"./@sxzz-c75af06c.js";import"./escape-html-9595eff5.js";import"./normalize-wheel-es-ed76fb12.js";import"./@ctrl-f8748455.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./useUpload-b067b045.js";import"./index-28f279b5.js";import"./pinia-883c818f.js";import"./vue-demi-71ba0ef2.js";/* empty css                    */import"./vue-router-4dc5009b.js";import"./@icon-park-3742eccb.js";import"./axios-4a70c6fc.js";import"./prismjs-f5ad2561.js";import"./highlight.js-d90016de.js";import"./vee-validate-30786abe.js";import"./@vee-validate-f9e0ad5b.js";import"./yup-752d7be0.js";import"./property-expr-38205fa5.js";import"./toposort-39c4f588.js";import"./sortablejs-c04ee0f2.js";import"./qs-9ebea5eb.js";import"./side-channel-d24dcd95.js";import"./get-intrinsic-bd2830fd.js";import"./has-symbols-e8f3ca0e.js";import"./has-proto-f7d0b240.js";import"./function-bind-22e7ee79.js";import"./has-26d28e02.js";import"./call-bind-e5c1c8b0.js";import"./object-inspect-acc106ce.js";const W={class:"p-5 border shadow-sm rounded-md bg-white"},Y={class:"p-5"},Xe=K({__name:"create",async setup(Z){let _,c;const{add:E}=G(),{findAll:f,collection:U}=J(),i=O("system"),k=()=>{f(1,{type:i.value})};[_,c]=Q(()=>f(1,{type:i.value})),await _,c();const p=X({title:"",description:"",preview:"",video:"",price:0,download_address:"",system_id:void 0,videos:[{title:"",path:""}]});return(ee,l)=>{const r=F,s=L,n=S,V=A,x=H,C=T,B=I,h=z,b=N,y=$,g=R;return u(),v("main",null,[e(y,null,{header:o(()=>[m(" 创建课程")]),default:o(()=>[e(b,{"label-width":"80px",inline:!1,"label-position":"top",size:"large",class:"p-5"},{default:o(()=>[e(n,{label:"课程标题",prop:"title"},{default:o(()=>[e(r,{modelValue:a(p).title,"onUpdate:modelValue":l[0]||(l[0]=t=>a(p).title=t),placeholder:"请输入课程标题"},null,8,["modelValue"]),e(s,{name:"title"})]),_:1}),e(n,{label:"所属类别"},{default:o(()=>[e(x,{modelValue:a(i),"onUpdate:modelValue":l[1]||(l[1]=t=>q(i)?i.value=t:null),onChange:k},{default:o(()=>[e(V,{label:"system"},{default:o(()=>[m(" 系统课程 ")]),_:1}),e(V,{label:"project"},{default:o(()=>[m(" 实战项目 ")]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(n,{label:"所属系统课程",prop:"title"},{default:o(()=>[e(B,{modelValue:a(p).system_id,"onUpdate:modelValue":l[2]||(l[2]=t=>a(p).system_id=t),placeholder:"所属系统课程",clearable:"",filterable:""},{default:o(()=>[(u(!0),v(D,null,M(a(U),t=>(u(),P(C,{key:t.id,label:t.title,value:t.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),e(n,{label:"预览图片"},{default:o(()=>[e(h,{modelValue:a(p).preview,"onUpdate:modelValue":l[3]||(l[3]=t=>a(p).preview=t)},null,8,["modelValue"]),e(s,{name:"preview"})]),_:1}),e(n,{label:"课程简介"},{default:o(()=>[e(r,{type:"textarea",modelValue:a(p).description,"onUpdate:modelValue":l[4]||(l[4]=t=>a(p).description=t),placeholder:"请输入课程的文字介绍"},null,8,["modelValue"]),e(s,{name:"description"})]),_:1})]),_:1})]),_:1}),e(y,{class:"mt-5"},{header:o(()=>[m(" 视频列表 ")]),default:o(()=>[e(a(j),{modelValue:a(p).videos,"onUpdate:modelValue":l[5]||(l[5]=t=>a(p).videos=t),group:"people",onEnd:t=>!1,"item-key":"id",class:"grid grid-cols-4 p-5 gap-5"},{item:o(({element:t})=>[w("div",W,[e(b,{"label-width":"80px",inline:!1,size:"default"},{default:o(()=>[e(n,{label:"视频标题"},{default:o(()=>[e(r,{modelValue:t.title,"onUpdate:modelValue":d=>t.title=d},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(n,{label:"视频地址"},{default:o(()=>[e(r,{modelValue:t.path,"onUpdate:modelValue":d=>t.path=d},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024)])]),_:1},8,["modelValue"])]),footer:o(()=>[w("div",Y,[e(g,{type:"primary",onClick:l[6]||(l[6]=t=>a(E)(a(p)))},{default:o(()=>[m("保存提交")]),_:1}),e(g,{type:"success",onClick:l[7]||(l[7]=t=>a(p).videos.push({title:"",path:""}))},{default:o(()=>[m("添加视频")]),_:1})])]),_:1})])}}});export{Xe as default};
