import{O as N,H as C}from"./@icon-park-3742eccb.js";import{F as k,r as S,o as s,c as i,J as d,u as t,af as E,b as o,K as e,Q as r,P as x,S as F,a8 as A,a as f,R as h}from"./@vue-fc98776d.js";import{e as B,f as D,g as R}from"./element-plus-269c9c95.js";import{_ as M}from"./userAvatar.vue_vue_type_script_setup_true_lang-5d1165fd.js";import{a as U,b as V,u as L,f as O,R as $}from"./index-28f279b5.js";import{d as q}from"./dayjs-2fa04b10.js";const z={class:"flex items-center cursor-pointer"},ee=k({__name:"fullScreen",setup(v){const n=S(!1),m=()=>{n.value?document.exitFullscreen():document.documentElement.requestFullscreen(),n.value=!n.value};return document.addEventListener("fullscreenchange",p=>{n.value=!!document.fullscreenElement}),(p,a)=>(s(),i("div",z,[n.value?(s(),d(t(N),{key:0,theme:"outline",size:"20",onClick:m})):(s(),d(t(C),{key:1,theme:"outline",size:"20",onClick:m}))]))}}),I={class:"flex items-center"},j={key:0,class:"flex items-center"},H={class:"el-dropdown-link flex items-center"},J={class:"flex flex-col text-xs ml-2 text-gray-600 font-light"},K=f("a",{href:"/member"}," 修改资料 ",-1),P={key:1,class:"flex items-stretch gap-2"},te=k({__name:"userAvatarMenu",setup(v){const{logout:n,isLogin:m}=U(),{isAdministrator:p}=V(),a=L();return(g,Q)=>{const w=M,l=E("router-link"),c=B,y=D,b=R;return s(),i("main",I,[t(a).user?(s(),i("section",j,[o(b,{trigger:"click"},{dropdown:e(()=>[o(y,null,{default:e(()=>[t(m)()?(s(),d(c,{key:0},{default:e(()=>[o(l,{to:{name:"sign.space",query:{uid:t(a).user.id}}},{default:e(()=>[r(" 个人空间 ")]),_:1},8,["to"])]),_:1})):x("",!0),(s(!0),i(F,null,A(t(O).user.avatarMenu,(u,_)=>(s(),d(c,{key:_},{default:e(()=>[o(l,{to:{name:u.routeName}},{default:e(()=>[r(h(u.title),1)]),_:2},1032,["to"])]),_:2},1024))),128)),o(c,null,{default:e(()=>[K]),_:1}),t(p)()?(s(),d(c,{key:1,divided:""},{default:e(()=>[o(l,{to:{name:("RouteName"in g?g.RouteName:t($)).ADMIN},target:"_blank"},{default:e(()=>[r(" 后台管理 ")]),_:1},8,["to"])]),_:1})):x("",!0),o(c,{onClick:t(n)},{default:e(()=>[r("退出登录")]),_:1},8,["onClick"])]),_:1})]),default:e(()=>{var u,_;return[f("span",H,[o(w,{user:t(a).user,fit:"cover",class:"w-7 h-7 rounded-sm"},null,8,["user"]),f("div",J,[r(h((u=t(a).user)==null?void 0:u.nickname)+" ",1),f("span",null,"注册于 "+h(t(q)((_=t(a).user)==null?void 0:_.created_at).fromNow()),1)])])]}),_:1})])):(s(),i("section",P,[o(l,{to:"/login",class:"px-3 py-1 flex text-sm items-center border shadow-sm rounded-md bg-slate-100 hover:bg-indigo-500 hover:!text-white duration-300"},{default:e(()=>[r(" 登录 ")]),_:1}),o(l,{to:"/register",class:"px-3 py-1 flex text-sm items-center border shadow-sm rounded-md bg-slate-100 hover:bg-indigo-500 hover:!text-white duration-300"},{default:e(()=>[r(" 注册 ")]),_:1})]))])}}});export{te as _,ee as a};
