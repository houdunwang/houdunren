import{h as n,r as i}from"./index-28f279b5.js";import{q as m}from"./qs-9ebea5eb.js";import{E as l}from"./element-plus-269c9c95.js";import{r}from"./@vue-fc98776d.js";const x=()=>{const a=r(),t=r(),o=r();return{findAll:async(e,s={})=>{a.value=await n.request({url:`morning?page=${e}&`+m.stringify(s)})},collection:a,getLatest:async()=>{t.value=await n.request({url:"morning/latest"})},model:t,update:async e=>{t.value=await n.request({url:`morning/${e.id}`,method:"PUT",data:e}),i.push({name:"morning.admin"})},remove:async e=>{await l({message:"确定删除吗?"}),await n.request({url:`morning/${e}`,method:"DELETE"});const s=a.value.data.findIndex(u=>u.id==e);a.value.data.splice(s,1)},add:async e=>{t.value=await n.request({url:"morning",method:"POST",data:e}),i.push({name:"morning.admin"})},findOne:async e=>{t.value=await n.request({url:`morning/${e}`})},luck:async()=>await n.request({url:"morning/luck",method:"POST"}),getSignUsers:async e=>{o.value=await n.request({url:`morning/signs?page=${e}`})},signUsers:o}};export{x as u};
