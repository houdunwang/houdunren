import{_ as A}from"./favour.vue_vue_type_script_setup_true_lang-0a57ac81.js";import{_ as P,a as U}from"./comment-list.vue_vue_type_script_setup_true_lang-57d0c00a.js";import{_ as E}from"./markdownPreview-9a5cb2b1.js";import{k as I}from"./element-plus-269c9c95.js";import{_ as S}from"./favorite.vue_vue_type_script_setup_true_lang-addcf724.js";import{_ as D}from"./userAvatar.vue_vue_type_script_setup_true_lang-5d1165fd.js";import{k as H}from"./@vueuse-338b0492.js";import{d as g}from"./dayjs-2fa04b10.js";import{b as J,u as K}from"./index-28f279b5.js";import{u as M,b as O}from"./vue-router-4dc5009b.js";import{u as Q}from"./useTopic-3fadc34b.js";import{l as q,m as G}from"./@icon-park-3742eccb.js";import{F as L,bF as W,u as t,o as r,c as l,a as e,R as _,b as s,Q as n,J as w,K as a,P as d}from"./@vue-fc98776d.js";import{_ as X}from"./_plugin-vue_export-helper-c27b6911.js";import"./card-5e9a267c.js";import"./markdownEditor-67a8e707.js";import"./@kangc-b0092abd.js";import"./vue-d4d0ec31.js";import"./useUpload-b067b045.js";import"./error-c67a23aa.js";import"./highlight.js-d90016de.js";import"./lodash-es-d29772ce.js";import"./async-validator-dee29e8b.js";import"./@element-plus-828baf85.js";import"./@sxzz-c75af06c.js";import"./escape-html-9595eff5.js";import"./normalize-wheel-es-ed76fb12.js";import"./@ctrl-f8748455.js";import"./useFavorite-e7de7fc0.js";import"./pinia-883c818f.js";import"./vue-demi-71ba0ef2.js";/* empty css                    */import"./axios-4a70c6fc.js";import"./prismjs-f5ad2561.js";import"./vee-validate-30786abe.js";import"./@vee-validate-f9e0ad5b.js";import"./yup-752d7be0.js";import"./property-expr-38205fa5.js";import"./toposort-39c4f588.js";import"./qs-9ebea5eb.js";import"./side-channel-d24dcd95.js";import"./get-intrinsic-bd2830fd.js";import"./has-symbols-e8f3ca0e.js";import"./has-proto-f7d0b240.js";import"./function-bind-22e7ee79.js";import"./has-26d28e02.js";import"./call-bind-e5c1c8b0.js";import"./object-inspect-acc106ce.js";const Y={key:0},Z={class:"bg-white rounded-xl p-5 2xl:p-10 mb-5"},tt={class:"text-2xl opacity-90 leading-snug"},ot={class:"mt-5 text-sm opacity-90 flex flex-col md:flex-row items-stretch gap-3 border-b pb-6"},et={class:"flex flex-col justify-between flex-1"},st={class:"font-bold"},it={class:"flex flex-col md:flex-row md:items-center gap-3 justify-between"},nt={class:"flex items-center gap-3"},mt={class:"md:flex items-center gap-1 hidden"},rt={class:"flex items-center gap-1"},at={key:0,class:"flex items-center gap-2"},pt={key:0},_t={class:"leading-7 mt-10 opacity-95 mb-5 topic-show"},ct={class:"flex justify-center"},lt=L({__name:"show",async setup(dt){var h;let u,f;const{isAdministrator:x}=J(),{user:k}=K(),{params:b}=M(),C=O(),{findOne:$,model:o,remove:z,toggleRecommend:y}=Q();return[u,f]=W(()=>$(+b.id)),await u,f(),H((h=o.value)==null?void 0:h.title),(ut,i)=>{var v;const N=D,T=q,B=G,j=S,p=I,F=E,R=U,V=A;return t(o)?(r(),l("main",Y,[e("section",Z,[e("h1",tt,_(t(o).title),1),e("div",ot,[s(N,{user:t(o).user},null,8,["user"]),e("div",et,[e("span",st,_(t(o).user.nickname),1),e("div",it,[e("div",nt,[e("div",mt,[s(T,{theme:"outline"}),n("发表于"+_(t(g)(t(o).created_at).fromNow()),1)]),e("div",rt,[s(B,{theme:"outline"}),n(" 更新于"+_(t(g)(t(o).updated_at).fromNow())+" ",1),s(j,{model:"Topic",id:t(o).id,size:"small"},null,8,["id"])])]),t(x)()||t(o).user_id==((v=t(k))==null?void 0:v.id)?(r(),l("div",at,[t(x)()?(r(),l("div",pt,[t(o).recommend?(r(),w(p,{key:0,type:"success",size:"small",onClick:i[0]||(i[0]=c=>t(y)(t(o).id))},{default:a(()=>[n(" 推荐 ")]),_:1})):(r(),w(p,{key:1,type:"info",size:"small",onClick:i[1]||(i[1]=c=>t(y)(t(o).id))},{default:a(()=>[n(" 推荐 ")]),_:1}))])):d("",!0),s(p,{type:"warning",size:"small",onClick:i[2]||(i[2]=c=>{var m;return t(z)((m=t(o))==null?void 0:m.id)})},{default:a(()=>[n(" 删除 ")]),_:1}),s(p,{type:"primary",size:"small",class:"!ml-0",onClick:i[3]||(i[3]=c=>{var m;return t(C).push({name:"topic.edit",params:{id:(m=t(o))==null?void 0:m.id}})})},{default:a(()=>[n(" 修改 ")]),_:1})])):d("",!0)])])]),e("section",_t,[s(R,null,{default:a(()=>[s(F,{text:t(o).html},null,8,["text"])]),_:1})]),e("section",ct,[s(V,{model:"Topic",id:t(o).id,size:"large"},null,8,["id"])])]),s(P,{model:"Topic",id:t(o).id},null,8,["id"])])):d("",!0)}}});const po=X(lt,[["__scopeId","data-v-1acf2d68"]]);export{po as default};
