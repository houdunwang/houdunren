import{_ as B}from"./userAvatar.vue_vue_type_script_setup_true_lang-5d1165fd.js";import{k as C}from"./element-plus-269c9c95.js";import{h as y}from"./index-28f279b5.js";import{r as N,F as V,u as e,o as t,c as r,a as g,J as _,K as k,b as d,Q as m,R as h,H as w,S as b,a8 as A,P as x}from"./@vue-fc98776d.js";import{y as I}from"./@icon-park-3742eccb.js";const P=()=>{const a=N();return{favour:a,toggleFavour:async(n,o)=>{a.value=await y.request({url:`favour/${n}/${o}`,method:"POST"})},getFavourInfo:async(n,o)=>{a.value=await y.request({url:`favour/${n}/${o}`})}}},S={key:0},j={class:"flex gap-1 justify-center"},q={class:"font-bold px-1"},z={key:0,class:"flex items-center"},E={key:1,class:"flex items-center"},T={key:0,class:"flex justify-center flex-wrap w-5/6 m-auto gap-2 mt-5"},O=V({__name:"favour",props:{model:{},id:{},showAvatar:{type:Boolean,default:!0}},setup(a){const{model:l,id:u,showAvatar:n}=a,{toggleFavour:o,favour:s,getFavourInfo:F}=P();return F(l,u),(p,c)=>{const f=I,v=C,$=B;return e(s)?(t(),r("main",S,[g("section",j,[e(s).state?(t(),_(v,w({key:0,type:"success",size:"default",onClick:c[0]||(c[0]=i=>e(o)(l,u))},p.$attrs),{default:k(()=>[d(f,{theme:"filled",class:"mr-1 text-yellow-100"}),m(" 感谢 "),g("span",q,h(e(s).total),1),m(" 个朋友的点赞 ")]),_:1},16)):(t(),_(v,w({key:1,plain:"",type:"info",size:"",onClick:c[1]||(c[1]=i=>e(o)(l,u))},p.$attrs),{default:k(()=>[e(s).total?(t(),r("div",z,[d(f,{theme:"outline",class:"mr-1"}),m("已有"+h(e(s).total)+"个朋友点赞 ",1)])):(t(),r("div",E,[d(f,{theme:"outline",class:"mr-1"}),m("点个赞吧/鼓励一下吧")]))]),_:1},16))]),n?(t(),r("section",T,[(t(!0),r(b,null,A(e(s).users,i=>(t(),_($,{key:i.id,user:i,class:"rounded-full"},null,8,["user"]))),128))])):x("",!0)])):x("",!0)}}});export{O as _};
