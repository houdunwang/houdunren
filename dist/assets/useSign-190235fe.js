import{u as g,h as a}from"./index-28f279b5.js";import{E as m}from"./element-plus-269c9c95.js";import{r as o,d as p}from"./@vue-fc98776d.js";const{user:i}=g(),w=()=>{const e=o(),r=o(),u=o(),c=async()=>{e.value=await a.request({url:"sign/todaySignList"})},l=async(s,t)=>{r.value=await a.request({url:`sign/userSignList/${s}?page=${t}`})},d=p(()=>{var s;return(s=e.value)==null?void 0:s.find(t=>t.user_id==(i==null?void 0:i.id))});return{collection:e,getTodaySignList:c,add:async s=>{var n;const t=await a.request({url:"sign",method:"POST",data:s});(n=e.value)==null||n.push(t)},todaySign:d,remove:async s=>{var t;await m.confirm("确定删除吗？"),await a.request({url:`sign/${s}`,method:"DELETE"}),(t=e.value)==null||t.splice(e.value.findIndex(n=>n.id==s),1)},getUserSignList:l,userCollection:r,paginateCollection:u}};export{w as u};
