import{h as s,r as a}from"./index-28f279b5.js";import{q as u}from"./qs-9ebea5eb.js";import{k as i}from"./@vueuse-338b0492.js";import{u as m}from"./vue-router-4dc5009b.js";import{E as c}from"./element-plus-269c9c95.js";import{r}from"./@vue-fc98776d.js";const g=()=>{const n=r(),t=r(),l=m();return{findAll:async(e,o={})=>{n.value=await s.request({url:`lesson?page=${e}&`+u.stringify(o)})},collection:n,findOne:async e=>{t.value=await s.request({url:`lesson/${e}`});const o=i(null);o.value=t.value.title},model:t,update:async e=>{await s.request({url:`lesson/${e.id}`,method:"PUT",data:e}),a.push({name:"admin.lesson"})},remove:async e=>{try{await c.confirm("确定删除吗?","温馨提示"),await s.request({url:`lesson/${e}`,method:"DELETE"}),l.fullPath.includes("admin")?location.reload():a.push({name:"lesson"})}catch{}},add:async e=>{await s.request({url:"lesson",method:"POST",data:e}),a.push({name:"admin.lesson"})}}};export{g as u};
