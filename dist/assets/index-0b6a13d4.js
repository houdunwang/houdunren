import{_ as C,a as D}from"./topMenu.vue_vue_type_script_setup_true_lang-084293f5.js";import{_ as E}from"./footer.vue_vue_type_script_setup_true_lang-77ef12ba.js";import{e as F,f as S,g as A,a as L}from"./element-plus-269c9c95.js";import{u as g,a as B,r as M}from"./index-28f279b5.js";import{u as N}from"./useLearnHistory-7c43fb55.js";import{F as h,r as R,bF as $,af as x,u as d,o as r,c as f,b as o,K as e,S as z,a8 as H,J as _,Q as K,R as P,P as y,aA as I,O as J,ax as O}from"./@vue-fc98776d.js";import{c as Q}from"./@icon-park-3742eccb.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./userAvatarMenu.vue_vue_type_script_setup_true_lang-ae5e69ee.js";import"./userAvatar.vue_vue_type_script_setup_true_lang-5d1165fd.js";import"./dayjs-2fa04b10.js";import"./@kangc-b0092abd.js";import"./vue-d4d0ec31.js";import"./vue-router-4dc5009b.js";import"./xj-a4f11983.js";import"./lodash-es-d29772ce.js";import"./async-validator-dee29e8b.js";import"./@vueuse-338b0492.js";import"./@element-plus-828baf85.js";import"./@sxzz-c75af06c.js";import"./escape-html-9595eff5.js";import"./normalize-wheel-es-ed76fb12.js";import"./@ctrl-f8748455.js";import"./pinia-883c818f.js";import"./vue-demi-71ba0ef2.js";/* empty css                    */import"./axios-4a70c6fc.js";import"./prismjs-f5ad2561.js";import"./highlight.js-d90016de.js";import"./vee-validate-30786abe.js";import"./@vee-validate-f9e0ad5b.js";import"./yup-752d7be0.js";import"./property-expr-38205fa5.js";import"./toposort-39c4f588.js";const T={key:0,class:"fixed right-5 bottom-40 cursor-pointer z-20"},U=h({__name:"video-learn-history",async setup(k){var i;let t,a;const c=g(),{userVideos:w}=N(),n=R();if((i=c.user)!=null&&i.id){const{data:m}=([t,a]=$(()=>{var s;return w((s=c.user)==null?void 0:s.id)}),t=await t,a(),t);n.value=m}return(m,s)=>{const p=Q,l=x("router-link"),V=F,b=S,v=A;return d(n)&&d(n).length?(r(),f("main",T,[o(v,{trigger:"click"},{dropdown:e(()=>[o(b,null,{default:e(()=>[(r(!0),f(z,null,H(d(n),(u,j)=>(r(),_(V,{key:u.id},{default:e(()=>[o(l,{to:{name:"video.show",params:{id:u.id}},target:"_self"},{default:e(()=>[K(P(u.title.replace(/^\d+\s*/,"")),1)]),_:2},1032,["to"])]),_:2},1024))),128))]),_:1})]),default:e(()=>[o(p,{theme:"filled",size:"40",fill:"#c44569"})]),_:1})])):y("",!0)}}}),So=h({__name:"index",setup(k){const{user:t}=g(),{isLogin:a}=B();return a()&&!(t!=null&&t.mobile)&&(L.success("请绑定手机号"),M.push({name:"member.bind"})),(c,w)=>{const n=U,i=x("RouterView"),m=E,s=D;return r(),f("main",null,[o(C),o(n),o(i,null,{default:e(({Component:p,route:l})=>[p?(r(),_(O,{key:0},[(r(),_(I,null,{default:e(()=>[(r(),_(J(p),{key:l.fullPath,class:"w-full 2xl:w-page mx-auto px-3 mt-5 relative"}))]),_:2},1024))],1024)):y("",!0)]),_:1}),o(m,{class:"mt-32"}),o(s)])}}});export{So as default};
