import{_ as N,a as j}from"./topMenu.vue_vue_type_script_setup_true_lang-084293f5.js";import{_ as B}from"./footer.vue_vue_type_script_setup_true_lang-77ef12ba.js";import{_ as F}from"./userAvatar.vue_vue_type_script_setup_true_lang-5d1165fd.js";import{q as R,e as S,f as U,g as P}from"./element-plus-269c9c95.js";import{b as q}from"./index-28f279b5.js";import{n as T,o as W,p as K,q as O,W as J,r as Q,g as G,l as H}from"./@icon-park-3742eccb.js";import{F as x,o as r,c as C,J as l,K as t,b as e,P as m,u as a,Q as _,af as D,a as u,_ as L,R as M,M as d,aA as X,O as Y,ax as Z}from"./@vue-fc98776d.js";import{_ as V}from"./_plugin-vue_export-helper-c27b6911.js";import{d as ee}from"./dayjs-2fa04b10.js";import{u as te}from"./vue-router-4dc5009b.js";import"./userAvatarMenu.vue_vue_type_script_setup_true_lang-ae5e69ee.js";import"./xj-a4f11983.js";import"./lodash-es-d29772ce.js";import"./async-validator-dee29e8b.js";import"./@vueuse-338b0492.js";import"./@element-plus-828baf85.js";import"./@sxzz-c75af06c.js";import"./escape-html-9595eff5.js";import"./@kangc-b0092abd.js";import"./vue-d4d0ec31.js";import"./normalize-wheel-es-ed76fb12.js";import"./@ctrl-f8748455.js";import"./pinia-883c818f.js";import"./vue-demi-71ba0ef2.js";/* empty css                    */import"./axios-4a70c6fc.js";import"./prismjs-f5ad2561.js";import"./highlight.js-d90016de.js";import"./vee-validate-30786abe.js";import"./@vee-validate-f9e0ad5b.js";import"./yup-752d7be0.js";import"./property-expr-38205fa5.js";import"./toposort-39c4f588.js";const oe={class:"text-3xl flex items-center gap-3 mt-3 icon"},ne=x({__name:"user-icon",props:{user:{}},setup(z){const{isAdministrator:f}=q(),{removeAvatar:v,lockUser:i,removeAllData:n}=q();return(o,c)=>{const p=T,s=R,h=W,g=K,y=O,w=J,$=Q,k=G,b=S,E=U,I=P;return r(),C("div",oe,[o.user.github?(r(),l(s,{key:0,placement:"top",width:300,trigger:"hover",content:`${o.user.github}`},{reference:t(()=>[e(p,{theme:"outline"})]),_:1},8,["content"])):m("",!0),o.user.email?(r(),l(s,{key:1,placement:"top",width:300,trigger:"hover",content:`${o.user.email}`},{reference:t(()=>[e(h,{theme:"outline"})]),_:1},8,["content"])):m("",!0),o.user.home?(r(),l(s,{key:2,placement:"top",width:300,trigger:"hover",content:`${o.user.home}`},{reference:t(()=>[e(g,{theme:"outline"})]),_:1},8,["content"])):m("",!0),o.user.weibo?(r(),l(s,{key:3,placement:"top",width:300,trigger:"hover",content:`${o.user.weibo}`},{reference:t(()=>[e(y,{theme:"outline"})]),_:1},8,["content"])):m("",!0),o.user.wechat?(r(),l(s,{key:4,placement:"top",width:300,trigger:"hover",content:`${o.user.wechat}`},{reference:t(()=>[e(w,{theme:"outline"})]),_:1},8,["content"])):m("",!0),o.user.wakatime?(r(),l(s,{key:5,placement:"top",width:300,trigger:"hover",content:`Wakttime: ${o.user.wakatime}`},{reference:t(()=>[e($,{theme:"outline"})]),_:1},8,["content"])):m("",!0),a(f)()?(r(),l(I,{key:6,trigger:"click",size:"default",type:"primary"},{dropdown:t(()=>[e(E,null,{default:t(()=>[e(b,{onClick:c[0]||(c[0]=A=>a(v)(o.user.id))},{default:t(()=>[_(" 移除头像 ")]),_:1}),e(b,{onClick:c[1]||(c[1]=A=>a(i)(o.user.id))},{default:t(()=>[_(" 锁定用户 ")]),_:1}),e(b,{onClick:c[2]||(c[2]=A=>a(n)(o.user.id))},{default:t(()=>[_(" 清空用户数据 ")]),_:1})]),_:1})]),default:t(()=>[e(k,{theme:"outline",size:"26"})]),_:1})):m("",!0)])}}});const se=V(ne,[["__scopeId","data-v-cd62a5eb"]]),re={key:0},ae={class:"-mt-1 relative bg-gradient-to-bl from-[#474794] to-[#36368e] py-8 pb-12 text-white shadow-2xl]"},ie={class:"2xl:w-page m-auto"},ce={class:"font-bold text-5xl flex items-center justify-center text-center"},ue={class:"flex flex-col items-center text-2xl mt-3 text-white opacity-80"},le={class:"mb-2"},_e={class:"text-sm flex flex-col items-center"},me={class:"flex items-center"},pe={class:"2xl:w-page mx-auto relative z-10"},de={class:"flex justify-center flex-wrap"},fe=x({__name:"spaceMenu",setup(z){const f=te(),{findOne:v,model:i}=q();return v(f.query.uid),(n,o)=>{var h,g,y,w,$,k;const c=F,p=H,s=D("router-link");return a(i)?(r(),C("main",re,[u("section",ae,[u("div",{style:L(`background:url(${a(i).avatar});background-size: cover;filter:blur(10px)`),class:"absolute top-0 left-0 right-0 bottom-0 z-0"},null,4),u("div",ie,[u("div",ce,[e(c,{user:a(i),fit:"cover",class:"w-52 h-52 !rounded-full shadow-3xl"},null,8,["user"])]),u("div",ue,[u("div",le,M(a(i).nickname),1),u("div",_e,[u("div",me,[e(p,{theme:"outline",class:"mr-1"}),_(" 注册于 "+M(a(ee)(a(i).created_at).fromNow()),1)]),e(se,{user:a(i)},null,8,["user"])])])])]),u("section",pe,[u("nav",de,[e(s,{to:{name:"topic.space",query:{uid:(h=n.$route.query)==null?void 0:h.uid}},class:d({active:n.$route.name=="topic.space"})},{default:t(()=>[_(" TA的贴子 ")]),_:1},8,["to","class"]),e(s,{to:{name:"sign.space",query:{uid:(g=n.$route.query)==null?void 0:g.uid}},class:d({active:n.$route.name.includes("sign")})},{default:t(()=>[_(" 历史签到 ")]),_:1},8,["to","class"]),e(s,{to:{name:"video.space",query:{uid:(y=n.$route.query)==null?void 0:y.uid}},class:d({active:n.$route.name=="video.space"})},{default:t(()=>[_(" 最近学习 ")]),_:1},8,["to","class"]),e(s,{to:{name:"lesson.space.favorite",query:{uid:(w=n.$route.query)==null?void 0:w.uid}},class:d({active:n.$route.name=="lesson.space.favorite"})},{default:t(()=>[_(" 课程收藏 ")]),_:1},8,["to","class"]),e(s,{to:{name:"video.space.favorite",query:{uid:($=n.$route.query)==null?void 0:$.uid}},class:d({active:n.$route.name=="video.space.favorite"})},{default:t(()=>[_(" 视频收藏 ")]),_:1},8,["to","class"]),e(s,{to:{name:"topic.space.favorite",query:{uid:(k=n.$route.query)==null?void 0:k.uid}},class:d({active:n.$route.name=="topic.space.favorite"})},{default:t(()=>[_(" 贴子收藏 ")]),_:1},8,["to","class"])])])])):m("",!0)}}});const ve=V(fe,[["__scopeId","data-v-3a52f4d7"]]),he={class:"flex flex-col flex-1 justify-start"},Xe=x({__name:"index",setup(z){return(f,v)=>{const i=N,n=D("RouterView"),o=B,c=j;return r(),C("main",he,[e(i,{class:"border-b-0"}),e(ve),e(n,null,{default:t(({Component:p,route:s})=>[p?(r(),l(Z,{key:0},[(r(),l(X,null,{default:t(()=>[(r(),l(Y(p),{key:s.fullPath,class:"p-2 mx-auto 2xl:w-page w-full"}))]),_:2},1024))],1024)):m("",!0)]),_:1}),e(o),e(c)])}}});export{Xe as default};
